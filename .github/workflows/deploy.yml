name: Deploy to GitHub Pages

on:
  push:
    branches: [ main ] # Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø°ÙŠ ØªØ³ØªØ®Ø¯Ù…Ù‡ Ù„Ù„Ù†Ø´Ø±

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Flutter
      uses: subosito/flutter-action@v2
      with:
        flutter-version: '3.19.0' # ğŸ’¡ ØªØ£ÙƒØ¯ Ù…Ù† ØªÙˆØ§ÙÙ‚ Ù‡Ø°Ø§ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ù…Ø¹ Ø¥ØµØ¯Ø§Ø± Flutter Ù„Ø¯ÙŠÙƒ
    
    - name: Install dependencies
      run: flutter pub get
      
    - name: Build web
      # ğŸ’¡ Ù‡Ø°Ø§ Ø§Ù„Ø®ÙŠØ§Ø± ØµØ­ÙŠØ­: ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
      run: flutter build web --base-href "/DriversApp/"
    
    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./build/web
        # ğŸ’¡ ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ù‡Ø°Ø§ Ø§Ù„ÙØ±Ø¹ Ù‡Ùˆ Ø§Ù„Ø°ÙŠ ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯Ù‡ Ù„Ù„Ù†Ø´Ø± ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª GitHub Pages
        publish_branch: gh-pages 
